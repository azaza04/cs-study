# 정규화 & 이상

## 정규화

### 정규화의 이유

- **데이터 중복 제거**: 데이터가 중복 저장되지 않도록 설계
- **데이터 무결성 유지**: 불필요한 데이터의 수정, 삭제, 삽입 문제를 방지
- **데이터 구조 최적화**: 효율적인 데이터베이스 구조를 설계하여 쿼리 성능을 향상

### 정규화의 종류

#### 1NF (제1정규화)

- **조건**: 모든 데이터 필드가 원자값(더 이상 쪼갤 수 없는 값)을 가져야 합니다.
- **특징**:
  - 중복된 데이터가 있을 수 있지만, 각 컬럼은 하나의 값을 가집니다.
  - 예: 주소와 전화번호 같은 필드가 하나의 컬럼에 여러 값을 가지지 않도록 분리.

#### 2NF (제2정규화)

- **조건**: 1NF를 만족하고, 부분 함수 종속성을 제거해야 합니다.
- **특징**:
  - 기본키의 일부에만 종속된 속성(부분 종속성)을 제거하고 별도의 테이블로 분리.
  - 예: 학생 테이블에서 학생ID로만 종속된 속성(예: 이름, 나이)을 분리하고, 과목 정보는 별도의 테이블로 저장.

#### 3NF (제3정규화)

- **조건**: 2NF를 만족하고, 이행적 함수 종속성을 제거해야 합니다.
- **특징**:
  - 기본키 이외의 다른 컬럼에 종속된 컬럼을 제거.
  - 예: 직원 테이블에서 직원ID로 직원 이름과 부서를 정의했을 때, 부서 정보를 다른 테이블로 분리하여 부서명에 따라 위치를 정의.

#### BCNF (보이스-코드 정규화)

- **조건**: 3NF를 만족하고, 모든 결정자가 후보 키여야 합니다.
- **특징**:
  - 테이블 내에서 함수적 종속 관계가 후보키 외에는 없도록 설계.
  - 복잡한 함수적 종속성을 해결하는데 주로 사용됩니다.

### 정규화의 장점

- 데이터 중복 최소화.
- 데이터 무결성 보장.
- 테이블 구조가 명확해지고, 유지보수가 쉬워짐.
  
### 정규화의 단점

- 너무 높은 수준의 정규화는 성능 저하를 초래할 수 있음.
- 테이블 간 조인이 많아져 쿼리가 복잡해질 수 있음.

## 이상현상이란?

- 삽입 이상(Insertion Anomaly)
튜플 삽입 시 특정 속성에 해당하는 값이 없어 NULL을 입력해야 하는 현상
![Alt text](https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Insertion_anomaly.svg/1920px-Insertion_anomaly.svg.png)

- 삭제 이상(Deletion Anomaly)
튜플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
![Alt text](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Deletion_anomaly.svg/1920px-Deletion_anomaly.svg.png)

- 갱신 이상(Update Anomaly)
튜플 갱신 시 중복된 데이터의 일부만 갱신되어 일어나는 데이터 불일치 현상
![Alt text](https://upload.wikimedia.org/wikipedia/commons/1/12/Update_anomaly.png)

## 추가로 볼 만한 정규화

### 4NF (제4정규화)

- **조건**: BCNF를 만족하고, 다치 종속(Multivalued Dependency)을 제거해야 합니다.
- **특징**:
  - 한 테이블에서 두 개 이상의 독립적인 다치 종속성을 분리.
  - 예: 한 교수가 여러 과목을 가르치고, 여러 연구실을 사용하는 경우 과목과 연구실을 분리하여 저장.

### 5NF (제5정규화)

- **조건**: 4NF를 만족하고, 조인 종속성(Join Dependency)을 제거해야 합니다.
- **특징**:
  - 데이터가 여러 테이블로 나누어져 있더라도 자연스러운 조인으로 다시 결합될 수 있어야 합니다.
  - 중복을 피하고 여러 관계를 분리하여 테이블 구조를 최적화
