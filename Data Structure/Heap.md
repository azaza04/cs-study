# 힙(Heap)

## 힙이란?

힙은 이진 트리(Binary Tree) 기반의 자료 구조로, 주로 우선순위 큐(Priority Queue)를 구현하는 데 사용됩니다. 힙은 두 가지 종류가 있습니다:

## 힙의 종류

- 최대 힙(Max Heap): 부모 노드가 자식 노드보다 항상 크거나 같은 구조. 즉, 루트 노드가 가장 큽니다.
- 최소 힙(Min Heap): 부모 노드가 자식 노드보다 항상 작거나 같은 구조. 즉, 루트 노드가 가장 작습니다.

## 힙의 특징

- 완전 이진 트리(Complete Binary Tree): 트리가 마지막 레벨을 제외하고 모든 레벨이 꽉 차 있고, 마지막 레벨에서는 왼쪽에서 오른쪽으로 채워지는 형태입니다.
- 삽입 및 삭제의 시간 복잡도: 힙에서 삽입이나 삭제의 시간 복잡도는 **O(log n)**입니다. 힙 속성을 유지하기 위해서 트리를 재정렬해야 하기 때문입니다.
-

## 주요 사용 예

- 우선순위 큐
- 최댓값 또는 최솟값을 빠르게 찾는 문제
- 힙 정렬(Heap Sort): 힙을 사용한 정렬 알고리즘으로, 평균 및 최악의 경우 모두 **O(n log n)**의 시간 복잡도를 가집니다.

## 힙에서 삽입과 삭제

### 힙에서의 삽입

1. 원소를 완전 이진 트리의 마지막 위치에 삽입

- 새로운 원소는 완전 이진 트리의 구조를 유지하기 위해 트리의 마지막 자리에 추가됩니다.

2. 부모 노드와 비교하여 힙 성질 복구 (힙 재정렬)

- 삽입된 원소가 부모 노드와 힙 성질을 위반할 경우, 부모 노드와 비교해 위로 올라가며(Swim, Bubble up) 자리를 교환합니다.
- 최대 힙이라면, 자식 노드가 부모 노드보다 클 경우 교환하고, 최소 힙이라면 자식 노드가 부모 노드보다 작을 경우 교환합니다.

3. 힙 성질을 만족할 때까지 교환 반복

- 더 이상 부모 노드와의 교환이 필요 없을 때(즉, 힙 성질을 만족할 때) 삽입 과정이 종료됩니다.


### 힙에서의 삭제

1. 루트 노드 삭제

- 힙에서 항상 루트 노드(최대 힙의 경우 가장 큰 값, 최소 힙의 경우 가장 작은 값)를 삭제합니다.

2. 마지막 노드를 루트로 이동

- 삭제된 루트 노드 자리를 채우기 위해 트리의 마지막 노드를 루트 위치로 이동시킵니다.

3. 자식 노드와 비교하여 힙 성질 복구 (힙 재정렬)

- 루트에 이동된 노드를 자식 노드들과 비교하여 아래로 내려가며(Sink, Bubble down) 자리를 교환합니다.
- 최대 힙의 경우, 자식 노드들 중 더 큰 자식 노드와 교환하며 내려갑니다.
-최소 힙의 경우, 자식 노드들 중 더 작은 자식 노드와 교환하며 내려갑니다.

4. 힙 성질을 만족할 때까지 교환 반복

- 더 이상 자식 노드와의 교환이 필요 없을 때(즉, 힙 성질을 만족할 때) 삭제 과정이 종료됩니다.
  

## 예상 질문

<details>
  <summary>힙이란 무엇인가요?</summary>
  힙(Heap)은 완전 이진 트리 기반의 자료 구조로, 부모 노드가 자식 노드보다 항상 크거나(최대 힙) 작거나(최소 힙) 한 성질을 가집니다. 주로 우선순위 큐를 구현하거나 최대/최소값을 빠르게 찾는 데 사용됩니다.
</details>

<details>
  <summary>힙의 시간 복잡도는 어떻게 되나요?</summary>
  - **삽입 연산**: O(log n) (힙 속성을 유지하기 위해 트리의 높이만큼 재정렬)
  - **삭제 연산**: O(log n) (루트 삭제 후 재정렬)
  - **최댓값 또는 최솟값 조회**: O(1) (루트 노드가 최댓값 또는 최솟값이므로 바로 접근 가능)
</details>

<details>
  <summary>힙을 활용하는 대표적인 알고리즘은 무엇인가요?</summary>
  - **힙 정렬(Heap Sort)**: 최대 힙 또는 최소 힙을 이용한 정렬 알고리즘. 시간 복잡도는 O(n log n).
  - **다익스트라 알고리즘**: 우선순위 큐로 힙을 사용하여 최단 경로를 찾는 알고리즘.
</details>

<details>
  <summary>완전 이진 트리와 힙의 차이점은 무엇인가요?</summary>
  - **완전 이진 트리**: 마지막 레벨을 제외하고 모든 레벨이 꽉 차 있는 트리. 단순히 트리의 구조에만 초점을 맞춥니다.
  - **힙**: 완전 이진 트리의 특성을 가지면서도 부모와 자식 간의 크기 관계(힙 속성)를 만족하는 구조입니다.
</details>

<details>
  <summary>배열을 이용해 힙을 구현하는 방법은?</summary>
  힙은 완전 이진 트리이기 때문에 배열을 사용하여 구현할 수 있습니다. 배열 인덱스에서 특정 규칙을 사용해 부모와 자식 노드의 관계를 정의할 수 있습니다:
  - **부모 노드 인덱스**: (i - 1) / 2
  - **왼쪽 자식 노드 인덱스**: 2 * i + 1
  - **오른쪽 자식 노드 인덱스**: 2 * i + 2
</details>